C51 COMPILER V9.56.0.0   DIS                                                               01/08/2018 23:21:02 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE DIS
OBJECT MODULE PLACED IN .\Objects\dis.obj
COMPILER INVOKED BY: D:\Keil_v5\C51\BIN\C51.EXE dis.c LARGE OPTIMIZE(8,SPEED) BROWSE INCDIR(.\Objects) DEBUG OBJECTEXTEN
                    -D PRINT(.\Listings\dis.lst) TABS(2) OBJECT(.\Objects\dis.obj)

line level    source

   1          #include"dis.h"
   2          #include"Ircon.h"
   3          /*led点阵显示数字函数*/
   4          
   5          //---全局变量声明--//
   6          ulong column;   //点阵列
   7          ulong row;      //点阵行
   8          ulong dt;
   9          
  10          //--点阵显示数组--//
  11          uchar code tab10[] = 
  12          {0x00, 0x01, 0x00, 0x02, 0x00, 0x04, 0x00, 0x08,
  13           0x00, 0x10, 0x00, 0x20, 0x00, 0x40, 0x00, 0x80,
  14           0x01, 0x00, 0x02, 0x00, 0x04, 0x00, 0x08, 0x00,
  15           0x10, 0x00, 0x20, 0x00, 0x40, 0x00, 0x80, 0x00}; 
  16          
  17          
  18          uint code tab[11][32]=
  19          {
  20            {0, 0, 0, 0, 0, 0, 24, 24, 36, 36, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 66, 36, 36, 24, 24
             -, 0, 0, 0, 0},//--00字模--//
  21            
  22            {0, 0, 0, 0, 0, 0, 24, 8, 36, 14, 66, 8, 66, 8, 66, 8, 66, 8, 66, 8, 66, 8, 66, 8, 36, 8, 24, 62, 0, 0, 0
             -, 0},//--01字模--//
  23              
  24            {0, 0, 0, 0, 0, 0, 24, 60, 36, 66, 66, 66, 66, 66, 66, 32, 66, 32, 66, 16, 66, 8, 66, 4, 36, 66, 24, 126,
             - 0, 0, 0, 0},//--02字模--//
  25              
  26            {0, 0, 0, 0, 0, 0, 24, 60, 36, 66, 66, 66, 66, 32, 66, 24, 66, 32, 66, 64, 66, 64, 66, 66, 36, 34, 24, 28
             -, 0, 0, 0, 0},//--03字模--//
  27              
  28            {0, 0, 0, 0, 0, 0, 24, 32, 36, 48, 66, 40, 66, 36, 66, 36, 66, 34, 66, 34, 66, 126, 66, 32, 36, 32, 24, 1
             -20, 0, 0, 0, 0},//--04字模--//
  29              
  30            {0, 0, 0, 0, 0, 0, 24, 126, 36, 2, 66, 2, 66, 2, 66, 26, 66, 38, 66, 64, 66, 64, 66, 66, 36, 34, 24, 28, 
             -0, 0, 0, 0},//--05字模--//
  31              
  32            {0, 0, 0, 0, 0, 0, 24, 56, 36, 36, 66, 2, 66, 2, 66, 26, 66, 38, 66, 66, 66, 66, 66, 66, 36, 36, 24, 24, 
             -0, 0, 0, 0},//--06字模--//
  33              
  34            {0, 0, 0, 0, 0, 0, 24, 126, 36, 34, 66, 34, 66, 16, 66, 16, 66, 8, 66, 8, 66, 8, 66, 8, 36, 8, 24, 8, 0, 
             -0, 0, 0},//--07字模--//
  35              
  36            {0, 0, 0, 0, 0, 0, 24, 60, 36, 66, 66, 66, 66, 66, 66, 36, 66, 24, 66, 36, 66, 66, 66, 66, 36, 66, 24, 60
             -, 0, 0, 0, 0},//--08字模--//
  37            
  38            {0, 0, 0, 0, 0, 0, 24, 24, 36, 36, 66, 66, 66, 66, 66, 66, 66, 100, 66, 88, 66, 64, 66, 64, 36, 36, 24, 2
             -8, 0, 0, 0, 0},//--09字模--// 
  39            
  40            {0,0,0,0,60,240,102,156,67,130,0,0,0,0,0,0, 0,0,0,0,48,24,96,8,192,7,0,0,0,0,0,0},//--∩_∩--//
  41          }; 
  42          //--09字模--//
  43          //uchar code tab9[] = 
  44          //{0, 0, 0, 0, 0, 0, 24, 24, 36, 36, 66, 66, 66, 66, 66,
C51 COMPILER V9.56.0.0   DIS                                                               01/08/2018 23:21:02 PAGE 2   

  45          // 66, 66, 100, 66, 88, 66, 64, 66, 64, 36, 36, 24, 28, 0, 0, 0, 0} ;
  46          
  47          //--08字模--//
  48          //uchar code tab8[] = 
  49          //{0, 0, 0, 0, 0, 0, 24, 60, 36, 66, 66, 66, 66, 66, 66, 36,
  50          //66, 24, 66, 36, 66, 66, 66, 66, 36, 66, 24, 60, 0, 0, 0, 0};
  51          
  52          //--07字模--//
  53          //uchar code tab7[] = 
  54          //{0, 0, 0, 0, 0, 0, 24, 126, 36, 34, 66, 34, 66, 16, 66, 16,
  55          // 66, 8, 66, 8, 66, 8, 66, 8, 36, 8, 24, 8, 0, 0, 0, 0};
  56          
  57          //--06字模--//
  58          //uchar code tab6[] = 
  59          //{0, 0, 0, 0, 0, 0, 24, 56, 36, 36, 66, 2, 66, 2, 66, 26, 66,
  60          // 38, 66, 66, 66, 66, 66, 66, 36, 36, 24, 24, 0, 0, 0, 0};
  61          
  62          //--05字模--//
  63          //uchar code tab5[] = 
  64          //{0, 0, 0, 0, 0, 0, 24, 126, 36, 2, 66, 2, 66, 2, 66, 26, 66,
  65          // 38, 66, 64, 66, 64, 66, 66, 36, 34, 24, 28, 0, 0, 0, 0};
  66          
  67          //--04字模--//
  68          //uchar code tab4[] = 
  69          //{0, 0, 0, 0, 0, 0, 24, 32, 36, 48, 66, 40, 66, 36, 66, 36, 66,
  70          //34, 66, 34, 66, 126, 66, 32, 36, 32, 24, 120, 0, 0, 0, 0};
  71          
  72          //--03字模--//
  73          //uchar code tab3[] = 
  74          //{0, 0, 0, 0, 0, 0, 24, 60, 36, 66, 66, 66, 66, 32, 66, 24, 66,
  75          // 32, 66, 64, 66, 64, 66, 66, 36, 34, 24, 28, 0, 0, 0, 0};
  76          
  77          //--02字模--//
  78          //uchar code tab2[] = 
  79          //{0, 0, 0, 0, 0, 0, 24, 60, 36, 66, 66, 66, 66, 66, 66, 32, 66,
  80          // 32, 66, 16, 66, 8, 66, 4, 36, 66, 24, 126, 0, 0, 0, 0};
  81          
  82          //--01字模--//
  83          //uchar code tab1[] = 
  84          //{0, 0, 0, 0, 0, 0, 24, 8, 36, 14, 66, 8, 66, 8, 66, 8, 66, 8, 66,
  85          //8, 66, 8, 66, 8, 36, 8, 24, 62, 0, 0, 0, 0};
  86          
  87          //--00字模--//
  88          //uchar code tab0[] = 
  89          //{0, 0, 0, 0, 0, 0, 24, 24, 36, 36, 66, 66, 66, 66, 66, 66, 66, 66,
  90          //66, 66, 66, 66, 66, 66, 36, 36, 24, 24, 0, 0, 0, 0};
  91          
  92          /*led点阵显示函数*/
  93          void li( uchar x )
  94          {     
  95   1            
  96   1          uchar k;
  97   1      
  98   1                for(k = 0; k < 16; k++)                       //中
  99   1                  {  
 100   2                    HC595SendData(~tab[x][2*k +1],~tab[x][2*k],tab10[2*k],tab10[2*k + 1]);     
 101   2                  
 102   2                  }
 103   1      
 104   1      }
 105          
 106          /*通过595发送四个字节的数据*/
C51 COMPILER V9.56.0.0   DIS                                                               01/08/2018 23:21:02 PAGE 3   

 107          void HC595SendData(  uchar BT3, uchar BT2,uchar BT1,uchar BT0)
 108          {  
 109   1        uchar i;
 110   1        
 111   1        //--发送第一个字节--//
 112   1        for(i=0;i<8;i++)
 113   1        {
 114   2          MOSIO = BT3 >> 7 ;  //从高位到低位
 115   2          BT3 <<= 1;
 116   2      
 117   2          S_CLK = 0;
 118   2          S_CLK = 1;    
 119   2        }
 120   1      
 121   1        //--发送第一个字节--//
 122   1        for(i=0;i<8;i++)
 123   1        {
 124   2          MOSIO = BT2 >>7;    //从高位到低位
 125   2          BT2 <<= 1;
 126   2      
 127   2          S_CLK = 0;
 128   2          S_CLK = 1;  
 129   2        }
 130   1      
 131   1        //--发送第一个字节--//
 132   1        for(i=0;i<8;i++)
 133   1        {
 134   2          MOSIO = BT1 >> 7;   //从高位到低位
 135   2          BT1 <<= 1;
 136   2          S_CLK = 0;
 137   2          S_CLK = 1;  
 138   2        }
 139   1      
 140   1        //--发送第一个字节--//
 141   1        for(i=0;i<8;i++)
 142   1        {
 143   2          MOSIO = BT0 >> 7;   //从高位到低位
 144   2          BT0 <<= 1;
 145   2          S_CLK = 0;
 146   2          S_CLK = 1;
 147   2        }
 148   1         
 149   1        //--输出--//
 150   1        R_CLK = 0; //set dataline low
 151   1        R_CLK = 1; //片选
 152   1        R_CLK = 0; //set dataline low
 153   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    239    ----
   CONSTANT SIZE    =    736    ----
   XDATA SIZE       =     12       6
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
